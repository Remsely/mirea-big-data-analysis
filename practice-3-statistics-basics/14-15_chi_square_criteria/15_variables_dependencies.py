import pandas as pd
import scipy.stats as st

data = pd.DataFrame({
    'Женат': [89, 17, 11, 43, 22, 1],
    'Гражданский брак': [80, 22, 20, 35, 6, 4],
    'Не состоит в отношениях': [35, 44, 35, 6, 8, 22]
})
data.index = [
    'Полный рабочий день', 'Частичная занятость', 'Временно не работает',
    'На домохозяйстве', 'На пенсии', 'Учёба'
]

print("Таблица сопряженности (Наблюдаемые частоты):")
print(data)

print("\nH0: Семейное положение и занятость являются независимыми переменными.")
print("H1: Существует зависимость между семейным положением и занятостью.")

chi2, p, dof, expected = st.chi2_contingency(data)

print("\nРезультаты теста:")
print(f"  - Хи-квадрат статистика: {chi2:.4f}")
print(f"  - p-value: {p:.4f}")
print(f"  - Степени свободы: {dof}")

alpha = 0.05

if p < alpha:
    print(
        f"  -> Вывод: p-value ({p:.4f}) < {alpha}. "
        f"Отвергаем H0. Существует статистически значимая связь между семейным положением и занятостью.")
else:
    print(f"  -> Вывод: p-value ({p:.4f}) >= {alpha}. "
          f"Не можем отвергнуть H0. Нет оснований утверждать о наличии связи между переменными.")
